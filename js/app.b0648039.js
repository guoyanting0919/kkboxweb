(function(t){function a(a){for(var c,r,i=a[0],o=a[1],u=a[2],l=0,h=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&h.push(n[r][0]),n[r]=0;for(c in o)Object.prototype.hasOwnProperty.call(o,c)&&(t[c]=o[c]);p&&p(a);while(h.length)h.shift()();return s.push.apply(s,u||[]),e()}function e(){for(var t,a=0;a<s.length;a++){for(var e=s[a],c=!0,i=1;i<e.length;i++){var o=e[i];0!==n[o]&&(c=!1)}c&&(s.splice(a--,1),t=r(r.s=e[0]))}return t}var c={},n={app:0},s=[];function r(a){if(c[a])return c[a].exports;var e=c[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=c,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var c in t)r.d(e,c,function(a){return t[a]}.bind(null,c));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="/kkboxweb/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=a,i=i.slice();for(var u=0;u<i.length;u++)a(i[u]);var p=o;s.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},1245:function(t,a,e){"use strict";var c=e("7387"),n=e.n(c);n.a},"3b77":function(t,a,e){"use strict";var c=e("b040"),n=e.n(c);n.a},"56d1":function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var c,n=e("2b0e"),s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[e("div",{staticClass:"login"},[t.getCode?e("a",{staticClass:"wasLoginContainer"},[e("i",{staticClass:"fas fa-user wasLogin"}),e("a",{staticClass:"spanGreen"},[t._v("已登入")]),e("p",{staticClass:"get_favorite",on:{click:t.getMyFavoriteTrack}},[t._v(" 取得我的 "),e("br"),t._v("蒐藏歌曲 ")])]):e("a",{staticClass:"wasNotLoginContainer",attrs:{href:"https://account.kkbox.com/oauth2/authorize?redirect_uri=https%3a%2f%2fguoyanting0919.github.io%2fkkboxweb\n&client_id=fb254aff20b31017a2e84e34ed896523&response_type=code&state=123"}},[e("i",{staticClass:"fas fa-user wasNotLogin"}),e("a",{staticClass:"spanRed"},[t._v("未登入")]),t._m(0)])]),e("div",[t.searchItems?e("div",{staticClass:"bgRotate"}):t._e()]),e("myIframe"),e("navBar"),t.isLoading?e("isLoading"):t._e(),e("router-view")],1)},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"to_open"},[t._v(" 登入開啟 "),e("br"),t._v("更多功能 ")])}],i=(e("d3b7"),e("3ca3"),e("ddb0"),e("2b3d"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"nav_bar"},[e("div",{staticClass:"nav_container"},[e("router-link",{staticClass:"routermargin",attrs:{to:"/home"}},[e("h1",{staticClass:"nav_title"},[e("span",[t._v("B")]),e("span",[t._v("r")]),e("span",[t._v("o.")]),e("span",[t._v("M")]),e("span",[t._v("u")]),e("span",[t._v("s")]),e("span",[t._v("i")]),e("span",[t._v("c")])])]),e("ul",[e("router-link",{staticClass:"routermargin",attrs:{to:"/track"}},[e("a",{staticClass:"routerBtn",class:{activeRouter:"單曲搜尋"===this.activeRouter},on:{click:function(a){return t.activeRouterBtn("單曲搜尋")}}},[t._v("單曲搜尋")])]),e("router-link",{attrs:{to:"/charts"}},[e("a",{staticClass:"routerBtn",class:{activeRouter:"熱門音榜"===this.activeRouter},on:{click:function(a){return t.activeRouterBtn("熱門音榜")}}},[t._v("熱門音榜")])])],1),e("div",{staticClass:"search_container"},[e("div",{staticClass:"search_radio"},[e("div",{staticClass:"radio_container"},[e("div",{staticClass:"search_type_container",class:{active_search_type:"track"===this.searchType}},[e("button",{staticClass:"search_type_btn",on:{click:function(a){return t.searchTypeChange("track")}}},[t._v("歌曲")])])]),e("div",{staticClass:"radio_container"},[e("div",{staticClass:"search_type_container",class:{active_search_type:"artist"===this.searchType}},[e("button",{staticClass:"search_type_btn",on:{click:function(a){return t.searchTypeChange("artist")}}},[t._v("歌手")])])])]),e("div",{staticClass:"search_input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mySearchInput,expression:"mySearchInput"}],attrs:{type:"text",placeholder:"請輸入關鍵字"},domProps:{value:t.mySearchInput},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.searchHandler(a)},change:t.searchInputChange,input:function(a){a.target.composing||(t.mySearchInput=a.target.value)}}}),e("button",{attrs:{type:"button"},on:{click:t.searchHandler}},[e("i",{staticClass:"fas fa-search"})])])])],1)])}),o=[],u={name:"navBar",data:function(){return{mySearchInput:this.$store.state.searchInput}},computed:{searchInput:function(){return this.$store.state.searchInput},searchType:function(){return this.$store.state.searchType},activeRouter:function(){return this.$store.state.activeRouter}},created:function(){this.getToken()},methods:{getToken:function(){this.$store.dispatch("getToken")},searchInputChange:function(){var t=this.mySearchInput;this.$store.commit("SEARCHINPUT",t)},searchTypeChange:function(t){this.$store.commit("SERACHTYPECHANGE",t)},searchHandler:function(){var t=this,a=t.$router.history.current.path;"/track"===a?t.$store.dispatch("getSearch"):(t.$store.commit("ACTIVEROUTER","單曲搜尋"),t.$router.push("/track"),t.$store.dispatch("getSearch"))},activeRouterBtn:function(t){var a=this;a.$store.commit("ACTIVEROUTER",t)}}},p=u,l=(e("3b77"),e("2877")),h=Object(l["a"])(p,i,o,!1,null,null,null),d=h.exports,f=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"iframe"},[e("div",{staticClass:"KK_iframe_container"},[t.kkboxIframeId?e("div",{staticClass:"close_kkbox"},[e("span",{on:{click:t.kkboxClose}},[e("i",{staticClass:"fas fa-times-circle"})])]):t._e(),t.kkboxIframeId?e("iframe",{staticClass:"kkboxIframe",attrs:{allow:"autoplay",src:"https://widget.kkbox.com/v1/?id="+t.kkboxIframeId+"&type="+t.iframeType+"&terr=TW&lang=TC&autoplay=true",frameborder:"0"}}):t._e()]),e("div",{staticClass:"TY_iframe_container"},[t.youtubeIframeId?e("div",{staticClass:"close_YT"},[e("span",{on:{click:t.YTClose}},[e("i",{staticClass:"fas fa-times-circle"})])]):t._e(),t.youtubeIframeId?e("iframe",{attrs:{id:"player",type:"text/html",width:"300",height:"200",src:"https://www.youtube.com/embed/"+t.youtubeIframeId+"?autoplay=1",frameborder:"0"}}):t._e()])])},m=[],_={data:function(){return{iframeType:"song"}},computed:{kkboxIframeId:function(){return this.$store.state.iframeId},youtubeIframeId:function(){return this.$store.state.YTTrackId}},methods:{kkboxClose:function(){var t=this;t.$store.commit("IFRAMEID","")},YTClose:function(){var t=this;t.$store.commit("YTTRACKID","")}}},k=_,v=(e("87be"),Object(l["a"])(k,f,m,!1,null,null,null)),T=v.exports,b=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},y=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"isLoading"},[e("div",{staticClass:"loader"})])}],C={name:"isLoading"},g=C,I=(e("81da"),Object(l["a"])(g,b,y,!1,null,null,null)),K=I.exports,x={name:"index",components:{navBar:d,myIframe:T,isLoading:K},data:function(){return{token:"",kkboxData:"",searchInput:"",searchType:"",kkboxCharts:[],artistID:"",searchItems:"",iframeId:"",iframeType:"song",YTSearchName:"",YTTrackId:"",userId:""}},computed:{isLoading:function(){return this.$store.state.isLoading},getCode:function(){var t=this,a=new URL(document.location).searchParams;if(a){var e=a.get("code");return t.$store.commit("CODE",e),e}return!1},accessToken:function(){return this.$store.state.accessToken}},methods:{getAccessToken:function(){this.$store.dispatch("getAccessToken")},getMyFavoriteTrack:function(){var t=this,a=t.$router.history.current.path;if("/track"===a){t.$store.dispatch("updateLoading",!0);var e="https://api.kkbox.com/v1.1/me/favorite?limit=100",c={headers:{Authorization:" Bearer ".concat(t.accessToken)}};t.$http.get(e,c).then((function(a){t.$store.commit("SEARCHITEMS",a.data.data),t.$store.dispatch("updateLoading",!1)}))}else{t.$store.commit("ACTIVEROUTER","單曲搜尋"),t.$router.push("/track");var n="https://api.kkbox.com/v1.1/me/favorite?limit=100",s={headers:{Authorization:" Bearer ".concat(t.accessToken)}};t.$http.get(n,s).then((function(a){t.$store.commit("SEARCHITEMS",a.data.data),t.$store.dispatch("updateLoading",!1)}))}},getsearchType:function(t){this.searchType=t},getkkboxData:function(t){this.kkboxData=t},getIframeId:function(t){this.iframeId=t},getYTTrackId:function(t){this.YTTrackId=t},getCharts:function(){var t=this,a={headers:{Authorization:" Bearer ".concat(t.token)}};this.$http.get("https://api.kkbox.com/v1.1/charts?territory=TW",a).then((function(a){console.log(a),t.kkboxCharts=a.data.data}))}},created:function(){var t=this;setTimeout((function(){t.getAccessToken()}),100)}},A=x,R=(e("abb8"),Object(l["a"])(A,s,r,!1,null,null,null)),E=R.exports,Y=e("8c4f"),w=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tracks_container"},[e("div",{staticClass:"track_list"},[t.searchItems?e("transition-group",{staticClass:"track",attrs:{name:"tracks-list",tag:"ul",appear:""}},t._l(t.searchItems,(function(a,c){return e("li",{key:c,staticClass:"track_name",class:{YTcurrentTrack:t.YTcurrentTrack===a.id,KKcurrentTrack:t.KKcurrentTrack===a.id,clickTrack:t.clickTrack===a.id},style:{"transition-delay":.3*c+"s"},attrs:{"data-text":a.name},on:{click:function(e){return t.myTrack(a)}}},[t._v(" "+t._s(a.name)+" "),e("div",{staticClass:"play_btn_container"},[e("button",{staticClass:"playBtn playYoutube",on:{click:function(e){return t.playYT(a)}}},[e("i",{staticClass:"fab fa-youtube track_YT_icon"})]),e("button",{staticClass:"playBtn playKKbox",on:{click:function(e){return t.playKkbox(a)}}},[e("i",{staticClass:"fab fa-kickstarter track_KK_icon"})]),t.code?e("button",{staticClass:"playBtn playKKbox",on:{click:function(e){return t.addToFavorite(a)}}},[e("i",{staticClass:"far fa-star favorite_icon"})]):t._e()])])})),0):t._e()],1)])},$=[],S=e("ade3"),O={data:function(){return{accessToken:"",clickTrack:""}},computed:(c={code:function(){return this.$store.state.code},searchItems:function(){return this.$store.state.searchItems},YTcurrentTrack:function(){return this.$store.state.YTcurrentTrack},KKcurrentTrack:function(){return this.$store.state.KKcurrentTrack}},Object(S["a"])(c,"YTcurrentTrack",(function(){return this.$store.state.YTcurrentTrack})),Object(S["a"])(c,"iframeId",(function(){return this.$store.state.iframeId})),Object(S["a"])(c,"creatItem",(function(){var t=Math.floor(4*Math.random()),a=this.searchItems[t];return a})),c),methods:{myTrack:function(t){this.clickTrack="",this.clickTrack=t.id},playKkbox:function(t){this.$store.dispatch("playKkbox",t)},playYT:function(t){this.$store.dispatch("playYT",t)},getAccessToken:function(){var t=this;if(!t.code)return!1;var a="https://cors-anywhere.herokuapp.com/https://account.kkbox.com/oauth2/token",e={headers:{Accept:"application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"}},c={grant_type:"authorization_code",code:this.code,client_id:"fb254aff20b31017a2e84e34ed896523",client_secret:"d2f7853d7a7e2afd98bc4751f1b3c81a"};this.$http.post(a,this.$qs.stringify(c),e).then((function(a){t.accessToken=a.data.access_token}))},addToFavorite:function(t){var a=this,e=(t.id,{headers:{Authorization:" Bearer ".concat(a.accessToken),"Content-Type":"application/json"}}),c={track_id:t.id};a.$http.post("https://cors-anywhere.herokuapp.com/https://api.kkbox.com/v1.1/me/favorite",c,e).then((function(t){alert(t.data.message)}))}},mounted:function(){var t=this;this.getAccessToken(),window.setTimeout((function(){var a=t.creatItem;t.playKkbox(a)}),3e3)}},D=O,N=(e("7c5f"),Object(l["a"])(D,w,$,!1,null,null,null)),B=N.exports,L=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chart"},[e("transition-group",{staticClass:"charts_container",attrs:{name:"charts-list",tag:"div",appear:""}},t._l(t.chartsData,(function(a){return e("div",{key:a.id,staticClass:"square",on:{click:function(e){return t.getChartId(a)}}},[e("span",{staticClass:"circle",class:{activeChart:t.activeChart===a.id}}),e("span",{class:{activeChart:t.activeChart===a.id}}),e("span",{class:{activeChart:t.activeChart===a.id}}),e("div",{staticClass:"content"},[e("h2",[t._v(t._s(a.title))])])])})),0),e("div",{staticClass:"charts_tracks_container"},[e("div",{staticClass:"title_container"},[e("transition",{attrs:{name:"list",appear:"",mode:"out-in"}},[t.chartTracks?e("span",{staticClass:"chart_title"},[t._v(t._s(t.chartTitle))]):t._e()])],1),t.chartTracks?e("transition-group",{staticClass:"top3_tracks",attrs:{name:"list",tag:"div",appear:""}},t._l(t.top3tracks,(function(a,c){return e("div",{key:c,staticClass:"top3_bg_border",class:{top3_bg_noborder:t.activeKKbox===a.id,top3_bg_noborder2:t.activeYT===a.id},style:{"transition-delay":.1*(c+1)+"s"}},[e("span",{class:{active_span_kk:t.activeKKbox===a.id,active_span_yt:t.activeYT===a.id}}),e("span",{class:{active_span_kk:t.activeKKbox===a.id,active_span_yt:t.activeYT===a.id}}),e("span",{class:{active_span_kk:t.activeKKbox===a.id,active_span_yt:t.activeYT===a.id}}),e("span",{class:{active_span_kk:t.activeKKbox===a.id,active_span_yt:t.activeYT===a.id}}),e("div",{staticClass:"top3_track_container"},[e("div",{staticClass:"top3_rank"},[t._v(t._s(c+1))]),e("div",{staticClass:"to3_track_txt"},[e("div",{staticClass:"top3_track_name",attrs:{"data-text":a.name}},[t._v(t._s(a.name))]),e("div",{staticClass:"top3_track_artist"},[t._v(t._s(a.album.artist.name))])]),e("div",{staticClass:"top3_btn_container"},[e("button",{staticClass:"top3_btn_playBtn top3_btn_playYoutube",on:{click:function(e){return t.playYT(a)}}},[e("i",{staticClass:"fab fa-youtube top3_YT_icon"})]),e("button",{staticClass:"top3_btn_playBtn top3_btn_playKKbox",on:{click:function(e){return t.playKkbox(a)}}},[e("i",{staticClass:"fab fa-kickstarter top_KK_icon"})])])])])})),0):t._e(),t.chartTracks?e("transition-group",{staticClass:"top4to25_tracks",attrs:{name:"list",tag:"div",appear:""}},t._l(t.chart4to25Tracks,(function(a,c){return e("div",{key:a.id,staticClass:"chart_track_container",class:{top3_bg_noborder:t.activeKKbox===a.id,top3_bg_noborder2:t.activeYT===a.id},style:{"transition-delay":.1*(c+4)+"s"},attrs:{"data-text":c+4}},[e("span",{class:{active_span_kk:t.activeKKbox===a.id,active_span_yt:t.activeYT===a.id}}),e("span",{class:{active_span_kk:t.activeKKbox===a.id,active_span_yt:t.activeYT===a.id}}),e("span",{class:{active_span_kk:t.activeKKbox===a.id,active_span_yt:t.activeYT===a.id}}),e("span",{class:{active_span_kk:t.activeKKbox===a.id,active_span_yt:t.activeYT===a.id}}),e("div",{staticClass:"top4to25_container"},[e("h3",{staticClass:"chart_number_h3"},[t._v(t._s(c+4))]),e("h4",{staticClass:"chart_name_h4",attrs:{"data-text":a.name}},[t._v(t._s(a.name))]),e("h5",{staticClass:"chart_artist_h5"},[t._v(t._s(a.album.artist.name))]),e("button",{staticClass:"top4to25_btn_playBtn top4to25_btn_playYoutube",on:{click:function(e){return t.playYT(a)}}},[e("i",{staticClass:"fab fa-youtube top4to25_YT_icon"})]),e("button",{staticClass:"top4to25_btn_playBtn top4to25_btn_playKKbox",on:{click:function(e){return t.playKkbox(a)}}},[e("i",{staticClass:"fab fa-kickstarter top4to25_KK_icon"})])])])})),0):t._e()],1)],1)},M=[],j=(e("159b"),{data:function(){return{chartsData:"",chartTracks:"",chartTitle:"",activeChart:"",activeKKbox:"",activeYT:"",token:"",chartId:""}},computed:{chart4to25Tracks:function(){var t=this,a=[];return t.chartTracks.forEach((function(t,e){a.length<=21&&e>2&&a.push(t)})),a},top3tracks:function(){var t=this,a=[];return t.chartTracks.forEach((function(t){a.length<=2&&a.push(t)})),a}},methods:{getToken:function(){var t=this;t.$store.dispatch("updateLoading",!0);var a="https://cors-anywhere.herokuapp.com/https://account.kkbox.com/oauth2/token",e={headers:{Accept:"application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"}},c={grant_type:"client_credentials",client_id:"fb254aff20b31017a2e84e34ed896523",client_secret:"d2f7853d7a7e2afd98bc4751f1b3c81a"};t.$http.post(a,t.$qs.stringify(c),e).then((function(a){t.token=a.data.access_token,t.getChartsData(),t.$store.dispatch("updateLoading",!1)}))},getChartsData:function(){var t=this,a={headers:{Authorization:" Bearer ".concat(t.token)}};this.$http.get("https://api.kkbox.com/v1.1/charts?territory=TW",a).then((function(a){t.chartsData=a.data.data}))},getChartId:function(t){var a=this;a.activeChart=t.id,a.chartTracks="";var e={headers:{Authorization:" Bearer ".concat(a.token)}};a.chartId=t.id,this.$http.get("https://api.kkbox.com/v1.1/charts/".concat(a.chartId,"?territory=TW"),e).then((function(t){a.chartTracks=t.data.tracks.data,a.chartTitle=t.data.title}))},playKkbox:function(t){var a=this;a.activeKKbox="",a.activeYT="",a.activeKKbox=t.id,this.$store.dispatch("playKkbox",t)},playYT:function(t){var a=this;a.activeKKbox="",a.activeYT="",a.activeYT=t.id,this.$store.dispatch("playYT",t)}},created:function(){this.getToken()}}),H=j,U=(e("1245"),Object(l["a"])(H,L,M,!1,null,null,null)),P=U.exports,z=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home_container"},[t._m(0),e("router-link",{staticClass:"homeRouter",attrs:{to:"/track"}},[e("h2",{staticClass:"home_open"},[e("span",[t._v("O")]),e("span",[t._v("p")]),e("span",[t._v("e")]),e("span",[t._v("n")])])])],1)},G=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h1",{staticClass:"home_title"},[e("span",[t._v("B")]),e("span",[t._v("r")]),e("span",[t._v("o.")]),e("span",[t._v("M")]),e("span",[t._v("u")]),e("span",[t._v("s")]),e("span",[t._v("i")]),e("span",[t._v("c")])])}],F={},q=F,W=(e("cccb"),Object(l["a"])(q,z,G,!1,null,null,null)),V=W.exports;n["a"].use(Y["a"]);var X=[{path:"*",redirect:"home"},{path:"/home",name:"Home",component:V},{path:"/track",name:"Track",component:B},{path:"/charts",name:"Charts",component:P}],J=new Y["a"]({routes:X}),Q=J,Z=(e("99af"),e("b0c0"),e("2f62")),tt=e("bc3a"),at=e.n(tt),et=e("4328"),ct=e.n(et);n["a"].use(Z["a"]);var nt=new Z["a"].Store({strict:!0,state:{isLoading:!0,searchInput:"房東的貓",searchType:"artist",token:"",kkboxData:"",searchItems:"",artistID:"",code:"",accessToken:"",activeRouter:"單曲搜尋",YTcurrentTrack:"",KKcurrentTrack:"",YTTrackId:"",iframeId:"",YTSearchName:""},actions:{updateLoading:function(t,a){t.commit("LOADING",a)},getToken:function(t){var a="https://cors-anywhere.herokuapp.com/https://account.kkbox.com/oauth2/token",e={headers:{Accept:"application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"}},c={grant_type:"client_credentials",client_id:"fb254aff20b31017a2e84e34ed896523",client_secret:"d2f7853d7a7e2afd98bc4751f1b3c81a"};at.a.post(a,ct.a.stringify(c),e).then((function(a){t.commit("TOKEN",a.data.access_token),t.dispatch("getSearch")}))},getSearch:function(t){t.commit("LOADING",!0),t.commit("SEARCHITEMS","");var a={headers:{Authorization:" Bearer ".concat(t.state.token)}};at.a.get("https://api.kkbox.com/v1.1/search?q=".concat(t.state.searchInput,"&type=").concat(t.state.searchType,"&territory=TW"),a).then((function(e){t.commit("KKBOXDATA",e.data),"artist"===t.state.searchType?(t.commit("ARTISTID",t.state.kkboxData.artists.data[0].id),at.a.get("https://api.kkbox.com/v1.1/artists/".concat(t.state.artistID,"/top-tracks?territory=TW&limit=20"),a).then((function(a){t.commit("SEARCHITEMS",a.data.data),t.commit("LOADING",!1)}))):"track"===t.state.searchType&&at.a.get("https://api.kkbox.com/v1.1/search?q=".concat(t.state.searchInput,"&type=").concat(t.state.searchType,"&territory=TW&limit=20"),a).then((function(a){t.commit("SEARCHITEMS",a.data.tracks.data),t.commit("LOADING",!1)}))}))},getAccessToken:function(t){if(!t.state.code)return!1;var a="https://cors-anywhere.herokuapp.com/https://account.kkbox.com/oauth2/token",e={headers:{Accept:"application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"}},c={grant_type:"authorization_code",code:t.state.code,client_id:"fb254aff20b31017a2e84e34ed896523",client_secret:"d2f7853d7a7e2afd98bc4751f1b3c81a"};at.a.post(a,ct.a.stringify(c),e).then((function(a){t.commit("ACCESSTOKEN",a.data.access_token)}))},playKkbox:function(t,a){t.commit("YTCURRENTTRACK",""),t.commit("KKCURRENTTRACK",""),t.commit("YTTRACKID",""),t.commit("IFRAMEID",""),t.commit("KKCURRENTTRACK",a.id),setTimeout((function(){t.commit("IFRAMEID",a.id);var e=document.querySelector(".KK_iframe_container");e.style.opacity=.9}),10)},playYT:function(t,a){t.commit("YTCURRENTTRACK",""),t.commit("KKCURRENTTRACK",""),t.commit("YTTRACKID",""),t.commit("IFRAMEID",""),t.commit("YTSEARCHNAME",""),t.commit("YTCURRENTTRACK",a.id),setTimeout((function(){t.commit("YTSEARCHNAME",a.name);var e=document.querySelector(".TY_iframe_container");e.style.opacity=.9,at.a.get("https://www.googleapis.com/youtube/v3/search?key=AIzaSyD5X4wGGRG0IyiFPYt66UXKAg-An0ystvQ&part=snippet&type=video&q=".concat(t.state.YTSearchName)).then((function(a){t.commit("YTTRACKID",a.data.items[0].id.videoId)}))}),100)}},mutations:{LOADING:function(t,a){t.isLoading=a},TOKEN:function(t,a){t.token=a},KKBOXDATA:function(t,a){t.kkboxData=a},ARTISTID:function(t,a){t.artistID=a},SEARCHITEMS:function(t,a){t.searchItems=a},SEARCHINPUT:function(t,a){t.searchInput=a},SERACHTYPECHANGE:function(t,a){t.searchType=a},CODE:function(t,a){t.code=a},ACCESSTOKEN:function(t,a){t.accessToken=a},ACTIVEROUTER:function(t,a){t.activeRouter=a},YTCURRENTTRACK:function(t,a){t.YTcurrentTrack=a},KKCURRENTTRACK:function(t,a){t.KKcurrentTrack=a},YTTRACKID:function(t,a){t.YTTrackId=a},IFRAMEID:function(t,a){t.iframeId=a},YTSEARCHNAME:function(t,a){t.YTSearchName=a}},modules:{}}),st=e("a7fe"),rt=e.n(st);n["a"].prototype.$qs=ct.a,n["a"].use(rt.a,at.a),n["a"].config.productionTip=!1,new n["a"]({router:Q,store:nt,render:function(t){return t(E)}}).$mount("#app")},"5ced":function(t,a,e){},"69e3":function(t,a,e){},7387:function(t,a,e){},"7c5f":function(t,a,e){"use strict";var c=e("b603"),n=e.n(c);n.a},"81da":function(t,a,e){"use strict";var c=e("69e3"),n=e.n(c);n.a},"87be":function(t,a,e){"use strict";var c=e("f66d"),n=e.n(c);n.a},abb8:function(t,a,e){"use strict";var c=e("56d1"),n=e.n(c);n.a},b040:function(t,a,e){},b603:function(t,a,e){},cccb:function(t,a,e){"use strict";var c=e("5ced"),n=e.n(c);n.a},f66d:function(t,a,e){}});
//# sourceMappingURL=app.b0648039.js.map